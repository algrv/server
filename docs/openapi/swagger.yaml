definitions:
  api_rest_admin.SetUseInTrainingRequest:
    properties:
      use_in_training:
        type: boolean
    type: object
  api_rest_admin.StrudelAdminResponse:
    properties:
      code:
        type: string
      description:
        type: string
      id:
        type: string
      is_public:
        type: boolean
      tags:
        items:
          type: string
        type: array
      title:
        type: string
      use_in_training:
        type: boolean
      user_id:
        type: string
    type: object
  api_rest_agent.DocReference:
    properties:
      page_name:
        type: string
      section_title:
        type: string
      url:
        type: string
    type: object
  api_rest_agent.GenerateRequest:
    properties:
      conversation_history:
        items:
          $ref: '#/definitions/api_rest_agent.Message'
        type: array
      editor_state:
        type: string
      forked_from_id:
        description: 'optional: for blocking AI on restricted forks'
        type: string
      provider:
        description: '"anthropic" or "openai"'
        type: string
      provider_api_key:
        description: BYOK key
        type: string
      session_id:
        description: 'optional: for paste lock validation'
        type: string
      strudel_id:
        description: 'optional: for persisting conversation'
        type: string
      user_query:
        type: string
    required:
    - user_query
    type: object
  api_rest_agent.GenerateResponse:
    properties:
      clarifying_questions:
        items:
          type: string
        type: array
      code:
        type: string
      doc_references:
        items:
          $ref: '#/definitions/api_rest_agent.DocReference'
        type: array
      docs_retrieved:
        type: integer
      examples_retrieved:
        type: integer
      is_actionable:
        type: boolean
      is_code_response:
        type: boolean
      model:
        type: string
      strudel_references:
        items:
          $ref: '#/definitions/api_rest_agent.StrudelReference'
        type: array
    type: object
  api_rest_agent.Message:
    properties:
      content:
        type: string
      role:
        type: string
    type: object
  api_rest_agent.StrudelReference:
    properties:
      author_name:
        type: string
      id:
        type: string
      title:
        type: string
      url:
        type: string
    type: object
  api_rest_auth.AuthResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_users.User'
    type: object
  api_rest_auth.MessageResponse:
    properties:
      message:
        type: string
    type: object
  api_rest_auth.UpdateProfileRequest:
    properties:
      avatar_url:
        maxLength: 500
        type: string
      name:
        maxLength: 100
        type: string
    required:
    - name
    type: object
  api_rest_auth.UserResponse:
    properties:
      user:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_users.User'
    type: object
  api_rest_collaboration.CreateInviteTokenRequest:
    properties:
      expires_at:
        type: string
      max_uses:
        type: integer
      role:
        enum:
        - co-author
        - viewer
        type: string
    required:
    - role
    type: object
  api_rest_collaboration.CreateSessionRequest:
    properties:
      code:
        description: 1MB limit
        maxLength: 1048576
        type: string
      is_discoverable:
        description: optional, defaults to false
        type: boolean
      title:
        maxLength: 200
        type: string
    required:
    - title
    type: object
  api_rest_collaboration.CreateSessionResponse:
    properties:
      code:
        type: string
      created_at:
        type: string
      host_user_id:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      is_discoverable:
        type: boolean
      last_activity:
        type: string
      title:
        type: string
    type: object
  api_rest_collaboration.InviteTokenResponse:
    properties:
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      max_uses:
        type: integer
      role:
        type: string
      session_id:
        type: string
      token:
        type: string
      uses_count:
        type: integer
    type: object
  api_rest_collaboration.InviteTokensListResponse:
    properties:
      tokens:
        items:
          $ref: '#/definitions/api_rest_collaboration.InviteTokenResponse'
        type: array
    type: object
  api_rest_collaboration.IsLiveResponse:
    properties:
      has_active_invite_tokens:
        type: boolean
      is_live:
        type: boolean
      participant_count:
        type: integer
    type: object
  api_rest_collaboration.JoinSessionRequest:
    properties:
      display_name:
        maxLength: 100
        type: string
      invite_token:
        type: string
    required:
    - invite_token
    type: object
  api_rest_collaboration.JoinSessionResponse:
    properties:
      display_name:
        type: string
      role:
        type: string
      session_id:
        type: string
    type: object
  api_rest_collaboration.LiveSessionResponse:
    properties:
      created_at:
        type: string
      id:
        type: string
      is_discoverable:
        type: boolean
      is_member:
        type: boolean
      last_activity:
        type: string
      participant_count:
        type: integer
      title:
        type: string
    type: object
  api_rest_collaboration.LiveSessionsListResponse:
    properties:
      pagination:
        $ref: '#/definitions/codeberg_org_algorave_server_api_rest_pagination.Meta'
      sessions:
        items:
          $ref: '#/definitions/api_rest_collaboration.LiveSessionResponse'
        type: array
    type: object
  api_rest_collaboration.MessageResponse:
    properties:
      message:
        type: string
    type: object
  api_rest_collaboration.MessagesResponse:
    properties:
      messages:
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_algorave_sessions.Message'
        type: array
    type: object
  api_rest_collaboration.ParticipantResponse:
    properties:
      display_name:
        type: string
      id:
        type: string
      joined_at:
        type: string
      left_at:
        type: string
      role:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  api_rest_collaboration.ParticipantsListResponse:
    properties:
      participants:
        items:
          $ref: '#/definitions/api_rest_collaboration.ParticipantResponse'
        type: array
    type: object
  api_rest_collaboration.SessionResponse:
    properties:
      code:
        type: string
      created_at:
        type: string
      ended_at:
        type: string
      host_user_id:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      is_discoverable:
        type: boolean
      last_activity:
        type: string
      participants:
        items:
          $ref: '#/definitions/api_rest_collaboration.ParticipantResponse'
        type: array
      title:
        type: string
    type: object
  api_rest_collaboration.SessionsListResponse:
    properties:
      sessions:
        items:
          $ref: '#/definitions/api_rest_collaboration.SessionResponse'
        type: array
    type: object
  api_rest_collaboration.SetDiscoverableRequest:
    properties:
      is_discoverable:
        type: boolean
    type: object
  api_rest_collaboration.SoftEndSessionResponse:
    properties:
      invites_revoked:
        type: boolean
      message:
        type: string
      participants_kicked:
        type: integer
    type: object
  api_rest_collaboration.UpdateSessionCodeRequest:
    properties:
      code:
        description: 1MB limit
        maxLength: 1048576
        type: string
    required:
    - code
    type: object
  api_rest_collaboration.UpdateSessionCodeResponse:
    properties:
      code:
        type: string
      message:
        type: string
    type: object
  api_rest_health.PingResponse:
    properties:
      message:
        type: string
    type: object
  api_rest_health.Response:
    properties:
      service:
        type: string
      status:
        type: string
      version:
        type: string
    type: object
  api_rest_strudels.ConversationMessageDTO:
    properties:
      clarifying_questions:
        items:
          type: string
        type: array
      content:
        type: string
      created_at:
        type: string
      doc_references:
        items:
          $ref: '#/definitions/api_rest_strudels.DocReferenceDTO'
        type: array
      id:
        type: string
      is_actionable:
        type: boolean
      is_code_response:
        type: boolean
      role:
        type: string
      strudel_references:
        items:
          $ref: '#/definitions/api_rest_strudels.StrudelReferenceDTO'
        type: array
    type: object
  api_rest_strudels.DocReferenceDTO:
    properties:
      page_name:
        type: string
      section_title:
        type: string
      url:
        type: string
    type: object
  api_rest_strudels.MessageResponse:
    properties:
      message:
        type: string
    type: object
  api_rest_strudels.StrudelDetailResponse:
    properties:
      categories:
        items:
          type: string
        type: array
      cc_signal:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CCSignal'
      code:
        type: string
      conversation_history:
        items:
          $ref: '#/definitions/api_rest_strudels.ConversationMessageDTO'
        type: array
      created_at:
        type: string
      description:
        type: string
      forked_from:
        type: string
      id:
        type: string
      is_public:
        type: boolean
      parent_cc_signal:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CCSignal'
      tags:
        items:
          type: string
        type: array
      title:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  api_rest_strudels.StrudelReferenceDTO:
    properties:
      author_name:
        type: string
      id:
        type: string
      title:
        type: string
      url:
        type: string
    type: object
  api_rest_strudels.StrudelsListResponse:
    properties:
      pagination:
        $ref: '#/definitions/codeberg_org_algorave_server_api_rest_pagination.Meta'
      strudels:
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.Strudel'
        type: array
    type: object
  api_rest_strudels.TagsListResponse:
    properties:
      tags:
        items:
          type: string
        type: array
    type: object
  api_rest_users.AIFeaturesEnabledRequest:
    properties:
      ai_features_enabled:
        type: boolean
    type: object
  api_rest_users.DailyUsage:
    properties:
      count:
        description: Number of generations
        type: integer
      date:
        description: 'Format: "2006-01-02"'
        type: string
    type: object
  api_rest_users.TrainingConsentRequest:
    properties:
      training_consent:
        type: boolean
    type: object
  api_rest_users.UsageResponse:
    properties:
      history:
        description: Last 30 days
        items:
          $ref: '#/definitions/api_rest_users.DailyUsage'
        type: array
      limit:
        description: Daily limit (-1 for unlimited)
        type: integer
      remaining:
        description: Remaining generations today (-1 for unlimited)
        type: integer
      tier:
        description: '"free", "payg", "byok"'
        type: string
      today:
        description: Generations used today
        type: integer
    type: object
  codeberg_org_algorave_server_algorave_sessions.Message:
    properties:
      avatarUrl:
        type: string
      content:
        type: string
      createdAt:
        type: string
      displayName:
        type: string
      id:
        type: string
      role:
        description: user
        type: string
      sessionID:
        type: string
      userID:
        type: string
    type: object
  codeberg_org_algorave_server_algorave_strudels.CCSignal:
    enum:
    - cc-cr
    - cc-dc
    - cc-ec
    - cc-op
    - no-ai
    type: string
    x-enum-comments:
      CCSignalCredit: 'Credit: Allow AI use with attribution'
      CCSignalDirect: 'Credit + Direct: Attribution + financial/in-kind support'
      CCSignalEcosystem: 'Credit + Ecosystem: Attribution + contribute to commons'
      CCSignalNoAI: 'No AI: Explicitly opt-out of AI training'
      CCSignalOpen: 'Credit + Open: Attribution + keep derivatives open'
    x-enum-descriptions:
    - 'Credit: Allow AI use with attribution'
    - 'Credit + Direct: Attribution + financial/in-kind support'
    - 'Credit + Ecosystem: Attribution + contribute to commons'
    - 'Credit + Open: Attribution + keep derivatives open'
    - 'No AI: Explicitly opt-out of AI training'
    x-enum-varnames:
    - CCSignalCredit
    - CCSignalDirect
    - CCSignalEcosystem
    - CCSignalOpen
    - CCSignalNoAI
  codeberg_org_algorave_server_algorave_strudels.CreateStrudelRequest:
    properties:
      categories:
        description: max 10 categories, each max 50 chars
        items:
          type: string
        maxItems: 10
        type: array
      cc_signal:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CCSignal'
      code:
        description: 1MB limit
        maxLength: 1048576
        type: string
      conversation_history:
        description: max 100 messages
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_internal_agent.Message'
        maxItems: 100
        type: array
      description:
        maxLength: 2000
        type: string
      forked_from:
        type: string
      is_public:
        type: boolean
      license:
        type: string
      tags:
        description: max 20 tags, each max 50 chars
        items:
          type: string
        maxItems: 20
        type: array
      title:
        maxLength: 200
        type: string
    required:
    - code
    - title
    type: object
  codeberg_org_algorave_server_algorave_strudels.Strudel:
    properties:
      ai_assist_count:
        type: integer
      categories:
        items:
          type: string
        type: array
      cc_signal:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CCSignal'
      code:
        type: string
      conversation_history:
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_internal_agent.Message'
        type: array
      created_at:
        type: string
      description:
        type: string
      forked_from:
        type: string
      id:
        type: string
      is_public:
        type: boolean
      license:
        type: string
      tags:
        items:
          type: string
        type: array
      title:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  codeberg_org_algorave_server_algorave_strudels.UpdateStrudelRequest:
    properties:
      categories:
        items:
          type: string
        maxItems: 10
        type: array
      cc_signal:
        $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CCSignal'
      code:
        description: 1MB limit
        maxLength: 1048576
        type: string
      conversation_history:
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_internal_agent.Message'
        maxItems: 100
        type: array
      description:
        maxLength: 2000
        type: string
      is_public:
        type: boolean
      license:
        type: string
      tags:
        items:
          type: string
        maxItems: 20
        type: array
      title:
        maxLength: 200
        type: string
    type: object
  codeberg_org_algorave_server_algorave_users.User:
    properties:
      ai_features_enabled:
        type: boolean
      avatar_url:
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      provider:
        type: string
      training_consent:
        type: boolean
      updated_at:
        type: string
    type: object
  codeberg_org_algorave_server_api_rest_pagination.Meta:
    properties:
      has_more:
        type: boolean
      limit:
        type: integer
      offset:
        type: integer
      total:
        type: integer
    type: object
  codeberg_org_algorave_server_internal_agent.Message:
    properties:
      content:
        description: message content
        type: string
      is_code_response:
        description: true if AI generated code
        type: boolean
      role:
        description: '"user" or "assistant"'
        type: string
    type: object
  codeberg_org_algorave_server_internal_attribution.StrudelStats:
    properties:
      fork_count:
        type: integer
      last_used_at:
        type: string
      total_uses:
        type: integer
      unique_users:
        type: integer
    type: object
  codeberg_org_algorave_server_internal_attribution.StrudelStatsResponse:
    properties:
      recent_uses:
        items:
          $ref: '#/definitions/codeberg_org_algorave_server_internal_attribution.StrudelUse'
        type: array
      stats:
        $ref: '#/definitions/codeberg_org_algorave_server_internal_attribution.StrudelStats'
    type: object
  codeberg_org_algorave_server_internal_attribution.StrudelUse:
    properties:
      created_at:
        type: string
      id:
        type: string
      requesting_display_name:
        type: string
      requesting_user_id:
        type: string
      similarity_score:
        type: number
      target_strudel_id:
        type: string
      target_strudel_title:
        type: string
    type: object
  codeberg_org_algorave_server_internal_errors.ErrorResponse:
    properties:
      details:
        description: optional details (sanitized in production)
        type: string
      error:
        description: error code (e.g., "unauthorized", "not_found")
        type: string
      message:
        description: user-friendly message
        type: string
      request_id:
        description: echoed from request for correlation
        type: string
    type: object
host: algorave.dev
info:
  contact:
    name: API Support
    url: https://codeberg.org/algorave/server
  description: |-
    AI-powered Strudel code generation and collaborative live coding platform

    Features:
    - AI-powered Strudel code generation from natural language
    - Real-time collaborative editing via WebSockets
    - OAuth authentication (Google, GitHub)
    - Anonymous session support
    - Save and share Strudel patterns
  license:
    name: GPL-3.0
    url: https://www.gnu.org/licenses/gpl-3.0.html
  title: Algorave API
  version: "1.0"
paths:
  /api/v1/admin/strudels/{id}:
    get:
      description: Admin-only endpoint to get any strudel regardless of ownership
      parameters:
      - description: Strudel ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_admin.StrudelAdminResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - AdminKeyAuth: []
      summary: Get any strudel by ID (admin)
      tags:
      - admin
  /api/v1/admin/strudels/{id}/use-in-training:
    put:
      consumes:
      - application/json
      description: Admin-only endpoint to mark a strudel for use in training data
      parameters:
      - description: Strudel ID
        in: path
        name: id
        required: true
        type: string
      - description: Use in training data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_admin.SetUseInTrainingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_admin.StrudelAdminResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - AdminKeyAuth: []
      summary: Set use_in_training flag on a strudel
      tags:
      - admin
  /api/v1/agent/generate:
    post:
      consumes:
      - application/json
      description: Generate Strudel code using AI with optional BYOK support
      parameters:
      - description: Generation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_agent.GenerateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_agent.GenerateResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: Generate code with AI
      tags:
      - agent
  /api/v1/auth/{provider}:
    get:
      description: Begin OAuth authentication flow with specified provider (google,
        github, apple)
      parameters:
      - description: OAuth provider
        enum:
        - google
        - github
        - apple
        in: path
        name: provider
        required: true
        type: string
      - description: URL to redirect to after authentication
        in: query
        name: redirect_url
        type: string
      responses:
        "302":
          description: Redirect to OAuth provider
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: Start OAuth authentication
      tags:
      - auth
  /api/v1/auth/{provider}/callback:
    get:
      description: OAuth provider callback. Redirects to original URL with token,
        or returns JSON if no redirect URL
      parameters:
      - description: OAuth provider
        enum:
        - google
        - github
        - apple
        in: path
        name: provider
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_auth.AuthResponse'
        "302":
          description: Redirect to original URL with token
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: OAuth callback
      tags:
      - auth
  /api/v1/auth/logout:
    post:
      description: Clear authentication session
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_auth.MessageResponse'
      summary: Logout
      tags:
      - auth
  /api/v1/auth/me:
    get:
      description: Get authenticated user's profile
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_auth.UserResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - auth
    put:
      consumes:
      - application/json
      description: Update authenticated user's name and avatar
      parameters:
      - description: Profile update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_auth.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_auth.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user profile
      tags:
      - auth
  /api/v1/ping:
    get:
      description: Simple ping endpoint
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_health.PingResponse'
      summary: Ping
      tags:
      - health
  /api/v1/public/strudels:
    get:
      description: Get publicly shared strudels from all users with pagination, search,
        and filtering
      parameters:
      - default: 20
        description: Items per page (max 100)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of items to skip
        in: query
        name: offset
        type: integer
      - description: Search in title and description
        in: query
        name: search
        type: string
      - collectionFormat: csv
        description: Filter by tags (comma-separated)
        in: query
        items:
          type: string
        name: tags
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.StrudelsListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: List public strudels
      tags:
      - strudels
  /api/v1/public/strudels/{id}:
    get:
      description: Get a publicly shared strudel by its ID (for forking)
      parameters:
      - description: Strudel ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.Strudel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: Get public strudel by ID
      tags:
      - strudels
  /api/v1/public/strudels/{id}/stats:
    get:
      description: Get attribution stats for a public strudel (how many times it was
        used as RAG context)
      parameters:
      - description: Strudel ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_attribution.StrudelStatsResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: Get strudel usage stats
      tags:
      - strudels
  /api/v1/public/strudels/tags:
    get:
      description: Get all unique tags from public strudels
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.TagsListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: List public tags
      tags:
      - strudels
  /api/v1/sessions:
    get:
      description: Get all sessions where user is host or participant
      parameters:
      - default: false
        description: Only return active sessions
        in: query
        name: active_only
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.SessionsListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's sessions
      tags:
      - sessions
    post:
      consumes:
      - application/json
      description: Create a new collaborative coding session (authenticated users
        only)
      parameters:
      - description: Session data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_collaboration.CreateSessionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_rest_collaboration.CreateSessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create collaboration session
      tags:
      - sessions
  /api/v1/sessions/{id}:
    delete:
      description: End a collaborative session (host only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: End session
      tags:
      - sessions
    get:
      description: Get session information including participants
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.SessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get session details
      tags:
      - sessions
    put:
      consumes:
      - application/json
      description: Update the code in a session (host or co-authors only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Code update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_collaboration.UpdateSessionCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.UpdateSessionCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update session code
      tags:
      - sessions
  /api/v1/sessions/{id}/discoverable:
    put:
      consumes:
      - application/json
      description: Toggle whether a session appears in the live sessions list (host
        only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Discoverability settings
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_collaboration.SetDiscoverableRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.SessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set session discoverability
      tags:
      - sessions
  /api/v1/sessions/{id}/end-live:
    post:
      description: |-
        Ends the live portion of a session: kicks all non-host participants, revokes all invite tokens,
        sets discoverable to false. Host keeps access to the session and their code.
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.SoftEndSessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Soft-end a live session
      tags:
      - sessions
  /api/v1/sessions/{id}/invite:
    get:
      description: Get all invite tokens for a session (host only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.InviteTokensListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List invite tokens
      tags:
      - sessions
    post:
      consumes:
      - application/json
      description: Generate an invite link for joining the session (host only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Token settings
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_collaboration.CreateInviteTokenRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_rest_collaboration.InviteTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create invite token
      tags:
      - sessions
  /api/v1/sessions/{id}/invite/{token_id}:
    delete:
      description: Revoke an invite token to prevent further use (host only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Token ID (UUID)
        in: path
        name: token_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke invite token
      tags:
      - sessions
  /api/v1/sessions/{id}/leave:
    post:
      description: Leave a collaborative session
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Leave session
      tags:
      - sessions
  /api/v1/sessions/{id}/live-status:
    get:
      description: Returns whether a session is currently live (has other participants
        or active invite tokens)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.IsLiveResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check if session is live
      tags:
      - sessions
  /api/v1/sessions/{id}/messages:
    get:
      description: Retrieve chat messages from a session (AI conversations are strudel-scoped
        and fetched separately)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - default: 100
        description: Max messages to return (max 1000)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.MessagesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get session chat messages
      tags:
      - sessions
  /api/v1/sessions/{id}/participants:
    get:
      description: Get all participants in a session (authenticated and anonymous)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.ParticipantsListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List session participants
      tags:
      - sessions
  /api/v1/sessions/{id}/participants/{participant_id}:
    delete:
      description: Remove a participant from the session (host only)
      parameters:
      - description: Session ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Participant ID (UUID)
        in: path
        name: participant_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove participant
      tags:
      - sessions
  /api/v1/sessions/join:
    post:
      consumes:
      - application/json
      description: Join a collaborative session using an invite token (authenticated
        or anonymous)
      parameters:
      - description: Join request with invite token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_collaboration.JoinSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.JoinSessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "403":
          description: Invalid or expired invite
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Join session with invite
      tags:
      - sessions
  /api/v1/sessions/last:
    get:
      description: Returns the user's most recent active session where they are host,
        excluding sessions they're currently in
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.LiveSessionResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user's last active session for recovery
      tags:
      - sessions
  /api/v1/sessions/live:
    get:
      description: Get discoverable active sessions plus user's own active sessions
        (if authenticated)
      parameters:
      - default: 20
        description: Items per page (max 100)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of items to skip
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_collaboration.LiveSessionsListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: List live sessions
      tags:
      - sessions
  /api/v1/strudels:
    get:
      description: Get strudels owned by the authenticated user with pagination, search,
        and filtering
      parameters:
      - default: 20
        description: Items per page (max 100)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of items to skip
        in: query
        name: offset
        type: integer
      - description: Search in title and description
        in: query
        name: search
        type: string
      - collectionFormat: csv
        description: Filter by tags (comma-separated)
        in: query
        items:
          type: string
        name: tags
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.StrudelsListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's strudels
      tags:
      - strudels
    post:
      consumes:
      - application/json
      description: Save a new Strudel pattern with code, title, and metadata
      parameters:
      - description: Strudel data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.CreateStrudelRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.Strudel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create strudel
      tags:
      - strudels
  /api/v1/strudels/{id}:
    delete:
      description: Delete a strudel (must be owner)
      parameters:
      - description: Strudel ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete strudel
      tags:
      - strudels
    get:
      description: Get a specific strudel by ID (owner or public)
      parameters:
      - description: Strudel ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.StrudelDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      summary: Get strudel by ID
      tags:
      - strudels
    put:
      consumes:
      - application/json
      description: Update a strudel's properties (must be owner)
      parameters:
      - description: Strudel ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.UpdateStrudelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_algorave_strudels.Strudel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update strudel
      tags:
      - strudels
  /api/v1/strudels/tags:
    get:
      description: Get all unique tags from the authenticated user's strudels
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_strudels.TagsListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's tags
      tags:
      - strudels
  /api/v1/users/ai-features-enabled:
    put:
      consumes:
      - application/json
      description: Toggle whether AI features (prompt bar, code generation) are enabled
        for the user
      parameters:
      - description: AI features enabled data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_users.AIFeaturesEnabledRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_algorave_users.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user's AI features setting
      tags:
      - users
  /api/v1/users/training-consent:
    put:
      consumes:
      - application/json
      description: Toggle whether the user's public strudels can be used for AI training
      parameters:
      - description: Consent data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_rest_users.TrainingConsentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_algorave_users.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user's training consent
      tags:
      - users
  /api/v1/users/usage:
    get:
      description: Returns usage statistics for the authenticated user including today's
        count, daily limit, and usage history
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_users.UsageResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/codeberg_org_algorave_server_internal_errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user's usage statistics
      tags:
      - users
  /health:
    get:
      description: Get service health status
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_rest_health.Response'
      summary: Health check
      tags:
      - health
securityDefinitions:
  BearerAuth:
    description: 'JWT token for authenticated requests. Format: Bearer {token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
